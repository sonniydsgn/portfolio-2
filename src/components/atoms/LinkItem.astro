---
import ButtonLink from '@/components/atoms/ButtonLink.astro'
import type { HTMLAttributes } from 'astro/types'

interface Props extends HTMLAttributes<'li'> {
	href: string
	active?: boolean
	class?: string
}

const { href, active = false, class: className, ...rest } = Astro.props
---

<li class:list={['link-item', { 'link-item--active': active }, className]} {...rest}>
	<ButtonLink class="link--primary" {href}><slot /></ButtonLink>
</li>

<style>
	.link-item {
		--padding-inline: 6px;
		--padding-block: 4px;
		--link-opacity: 0.6;

		display: inline-flex;
		align-self: flex-start;
		border-radius: var(--br-primary);

		.link {
			padding-inline: var(--padding-inline);
			padding-block: var(--padding-block);
			width: 100%;
		}
	}

	.link-item:not(.link-item--active) {
		transition: background-color var(--tr-primary);

		.link {
			opacity: var(--link-opacity);
		}

		@media (hover) {
			&:hover {
				background-color: var(--bg-secondary);

				.link {
					--link-opacity: 1;
				}
			}
		}
	}

	.link-item--active {
		background-color: var(--bg-tertiary);

		.link {
			color: var(--text-primary-0);
			font-weight: 700;
			text-decoration-color: transparent;
		}
	}
</style>
